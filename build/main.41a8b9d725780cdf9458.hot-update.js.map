{"version":3,"file":"main.41a8b9d725780cdf9458.hot-update.js","sources":["webpack:///src/screens/Login/index.js"],"sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { Link, Redirect } from 'react-router-dom'\nimport { cx } from 'emotion'\n\nimport LoginForm from './LoginForm'\nimport Container from '../../components/Container'\nimport Text from '../../components/Text'\n\nimport API from '../../api'\nimport { login as loginAction } from '../../store/actions/auth'\n\nimport styles from './styles'\n\nclass Login extends Component {\n  constructor (props) {\n    super(props)\n\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  async handleSubmit (values, bag) {\n    try {\n      const data = await API.login(values)\n      bag.setSubmitting(false)\n      this.props.loginAction(data.user)\n      this.props.history.push('/profile')\n    } catch (e) {\n      bag.setSubmitting(false)\n      bag.setErrors(e.response.data.errors.details.errors.errors)\n    }\n  }\n\n  render () {\n    if (this.props.isAuthenticated) {\n      return (<Redirect to='/profile' />)\n    }\n\n    return (\n      <Container fluid style={styles.mainContainer}>\n        <Container style={styles.heroContainer}>\n          <Container style={styles.heroLogoContainer}>\n            <a href='/'><img alt='bitcharge-logo' className={cx(styles.logoImageStyle)} src='https://res.cloudinary.com/bitcharge/image/upload/v1532990484/icons/bitcharge-logo-white.png' /></a>\n          </Container>\n          <Container style={styles.heroTextContainer}>\n            <img alt='login-avatar' className={cx(styles.signupAvatarIconStyle)} src='https://res.cloudinary.com/bitcharge/image/upload/v1535940305/panda-avatar.png' />\n            <Text tag='h3' style={styles.heroText}>Welcome back.</Text>\n          </Container>\n          <Container style={styles.heroFooterContainer}>\n            <Text tag='h6'>Don't have an account. <Link to='/signup' className={cx(styles.SignupLink)}>Signup</Link></Text>\n          </Container>\n        </Container>\n        <Container style={styles.bodyContainer}>\n          <LoginForm onSubmit={this.handleSubmit} />\n        </Container>\n      </Container>\n    )\n  }\n}\n\nLogin.propTypes = {\n  loginAction: PropTypes.func,\n  history: PropTypes.any,\n  isAuthenticated: PropTypes.bool\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuthenticated: state.auth.isAuthenticated\n  }\n}\n\nexport default connect(mapStateToProps, { loginAction })(Login)\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AAEA;AAHA;AAIA;AACA;;;;AACA;;;;;;;;AAEA;AACA;;AADA;AACA;AAAA;AACA;AACA;;;;;;;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AARA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAbA;AAkBA;;;;AA3CA;AACA;AA6CA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AADA;AAGA;AACA;AACA;;;;A","sourceRoot":""}