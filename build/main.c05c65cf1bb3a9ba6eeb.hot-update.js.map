{"version":3,"file":"main.c05c65cf1bb3a9ba6eeb.hot-update.js","sources":["webpack:///src/store/sagas/address.js"],"sourcesContent":["import { call, put, takeLatest } from 'redux-saga/effects'\n\nimport API from '../../api'\nimport {\n  FETCH_ADDRESSES,\n  FETCH_ADDRESSES_LOADING,\n  FETCH_ADDRESSES_SUCCESS,\n  FETCH_ADDRESSES_ERROR,\n  ADD_ADDRESS,\n  ADD_ADDRESS_SUCCESS,\n  UPDATE_ADDRESS,\n  UPDATE_ADDRESS_SUCCESS,\n  DELETE_ADDRESS,\n  DELETE_ADDRESS_SUCCESS,\n  DELETE_ADDRESS_ERROR\n} from '../constants'\n\nfunction * fetchAddressesFlow (action) {\n  try {\n    yield put({ type: FETCH_ADDRESSES_LOADING })\n    const addresses = yield call(API.getAddresses)\n    yield put({\n      type: FETCH_ADDRESSES_SUCCESS,\n      payload: { ...addresses }\n    })\n  } catch (e) {\n    yield put({\n      type: FETCH_ADDRESSES_ERROR\n    })\n  }\n}\n\nfunction * addAddressFlow (action) {\n  const { payload } = action\n\n  yield put({\n    type: ADD_ADDRESS_SUCCESS,\n    payload\n  })\n}\n\nfunction * updateAddressFlow (action) {\n  const { payload } = action\n\n  yield put({\n    type: UPDATE_ADDRESS_SUCCESS,\n    payload\n  })\n}\n\nfunction * deleteAddressFlow (action) {\n  const { payload } = action\n\n  if (payload.params && payload.params.local) {\n    yield put({\n      type: DELETE_ADDRESS_SUCCESS,\n      payload\n    })\n  } else {\n    try {\n      const response = yield call(API.deleteAddress, payload.address)\n      console.log(response)\n\n      yield put({\n        type: DELETE_ADDRESS_SUCCESS,\n        payload\n      })\n    } catch (e) {\n      yield put({\n        type: DELETE_ADDRESS_ERROR\n      })\n    }\n  }\n}\n\nfunction * addressFlow () {\n  yield takeLatest(FETCH_ADDRESSES, fetchAddressesFlow)\n  yield takeLatest(ADD_ADDRESS, addAddressFlow)\n  yield takeLatest(UPDATE_ADDRESS, updateAddressFlow)\n  yield takeLatest(DELETE_ADDRESS, deleteAddressFlow)\n}\n\nexport default addressFlow\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAiBA;AAeA;AASA;AASA;AAyBA;AACA;AA5EA;AACA;AACA;AACA;AACA;AAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AAKA;AACA;AAFA;AACA;AALA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAUA;AADA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAIA;AACA;AAFA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAIA;AACA;AAFA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAKA;AACA;AAFA;AACA;AALA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAUA;AACA;AAAA;AACA;AAZA;AAAA;AAcA;AACA;AAFA;AACA;AAdA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAmBA;AADA;AACA;AAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAwBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;;;;A","sourceRoot":""}